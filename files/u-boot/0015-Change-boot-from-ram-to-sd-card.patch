From 562204ad282894747e06e98a249f0e071dc0236e Mon Sep 17 00:00:00 2001
From: dzhang <daniel.zhang@aviatnet.com>
Date: Mon, 25 Jan 2021 13:28:25 +1300
Subject: [PATCH] Change boot from ram to sd card

---
 board/samsung/smdkc100/smdkc100.c | 4 +---
 include/configs/smdkc100.h        | 2 +-
 2 files changed, 2 insertions(+), 4 deletions(-)

diff --git a/board/samsung/smdkc100/smdkc100.c b/board/samsung/smdkc100/smdkc100.c
index b20172e074..aa76dfd631 100644
--- a/board/samsung/smdkc100/smdkc100.c
+++ b/board/samsung/smdkc100/smdkc100.c
@@ -42,9 +42,7 @@ void copy_bl2_to_ram(void)
 
     if (V210_SDMMC_BASE == 0xEB000000) {
         CopySDMMCtoMem(0, 32,    1000,  (u32 *)0x20000000, 0);            //  500K   u-boot
-        CopySDMMCtoMem(0, 1032,  12288, (u32 *)0x23000000, 0);            //  6M     kernel
-        CopySDMMCtoMem(0, 13320, 4096,  (u32 *)0x23500000, 0);            //  2M     ramdisk
-        CopySDMMCtoMem(0, 17416, 4096,  (u32 *)0x33000000, 0);            //  2M     dtbSize
+        CopySDMMCtoMem(0, 1032,  12288, (u32 *)0x20003000, 0);            //  6M     kernel
     }
 }
 #else
diff --git a/include/configs/smdkc100.h b/include/configs/smdkc100.h
index fecc655014..5cf8e00274 100644
--- a/include/configs/smdkc100.h
+++ b/include/configs/smdkc100.h
@@ -46,7 +46,7 @@
 /* PWM */
 #define CONFIG_PWM			1
 
-#define CONFIG_BOOTCOMMAND	"set bootargs root=/dev/ram0 rw console=ttySAC0,115200n8 initrd=0x21000000 init=/linuxrc; bootm 0x23000000 0x23500000 0x33000000"
+#define CONFIG_BOOTCOMMAND	"set bootargs root=/dev/mmcblk0p1 rw console=ttySAC0,115200n8 init=/linuxrc; bootm 0x20003000"
 
 #define CONFIG_RAMDISK_BOOT	"root=/dev/ram0 rw rootfstype=ext2" \
 				" console=ttySAC0,115200n8" \
-- 
2.30.0

