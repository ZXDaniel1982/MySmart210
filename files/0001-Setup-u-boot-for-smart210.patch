From a9f24fe6c87889e4193a7a0e207222934fccca03 Mon Sep 17 00:00:00 2001
From: dzhang <daniel.zhang@aviatnet.com>
Date: Tue, 5 Jan 2021 17:57:38 +1300
Subject: [PATCH] Setup u-boot for smart210

---
 ...ch => 0001-Setup-u-boot-for-smart210.patch | 74 ++++++++++++++++++-
 1 file changed, 70 insertions(+), 4 deletions(-)
 rename 0001-Migrant-u-boot-for-smart210.patch => 0001-Setup-u-boot-for-smart210.patch (97%)

diff --git a/0001-Migrant-u-boot-for-smart210.patch b/0001-Setup-u-boot-for-smart210.patch
similarity index 97%
rename from 0001-Migrant-u-boot-for-smart210.patch
rename to 0001-Setup-u-boot-for-smart210.patch
index 9aaad908e..870a2aa25 100644
--- a/0001-Migrant-u-boot-for-smart210.patch
+++ b/0001-Setup-u-boot-for-smart210.patch
@@ -1,7 +1,7 @@
-From 280cb3f917a8fe8f64418f1157c151b2f211e5aa Mon Sep 17 00:00:00 2001
+From 14f5469c1005b688a84b3d667bd67425bce99038 Mon Sep 17 00:00:00 2001
 From: dzhang <daniel.zhang@aviatnet.com>
-Date: Tue, 5 Jan 2021 17:03:43 +1300
-Subject: [PATCH] Migrant u-boot for smart210
+Date: Tue, 5 Jan 2021 17:54:20 +1300
+Subject: [PATCH] Setup u-boot for smart210
 
 ---
  u-boot/arch/arm/Kconfig                            |  10 +
@@ -18,6 +18,7 @@ Subject: [PATCH] Migrant u-boot for smart210
  u-boot/arch/arm/mach-s5pv210/include/mach/clk.h    |  23 +
  u-boot/arch/arm/mach-s5pv210/include/mach/clock.h  |  52 ++
  u-boot/arch/arm/mach-s5pv210/include/mach/cpu.h    | 113 +++
+ u-boot/arch/arm/mach-s5pv210/include/mach/dmc.h    |  58 ++
  u-boot/arch/arm/mach-s5pv210/include/mach/gpio.h   | 842 +++++++++++++++++++++
  u-boot/arch/arm/mach-s5pv210/include/mach/mmc.h    |  64 ++
  u-boot/arch/arm/mach-s5pv210/include/mach/periph.h |  60 ++
@@ -39,7 +40,7 @@ Subject: [PATCH] Migrant u-boot for smart210
  u-boot/common/spl/Kconfig                          |   4 +-
  u-boot/configs/smart210.h                          | 149 ++++
  u-boot/configs/smart210_defconfig                  |  30 +
- 35 files changed, 2708 insertions(+), 3 deletions(-)
+ 36 files changed, 2766 insertions(+), 3 deletions(-)
  create mode 100644 u-boot/arch/arm/dts/s5pv210-pinctrl.dtsi
  create mode 100644 u-boot/arch/arm/dts/s5pv210-smart210.dts
  create mode 100644 u-boot/arch/arm/mach-s5pv210/Kconfig
@@ -49,6 +50,7 @@ Subject: [PATCH] Migrant u-boot for smart210
  create mode 100644 u-boot/arch/arm/mach-s5pv210/include/mach/clk.h
  create mode 100644 u-boot/arch/arm/mach-s5pv210/include/mach/clock.h
  create mode 100644 u-boot/arch/arm/mach-s5pv210/include/mach/cpu.h
+ create mode 100644 u-boot/arch/arm/mach-s5pv210/include/mach/dmc.h
  create mode 100644 u-boot/arch/arm/mach-s5pv210/include/mach/gpio.h
  create mode 100644 u-boot/arch/arm/mach-s5pv210/include/mach/mmc.h
  create mode 100644 u-boot/arch/arm/mach-s5pv210/include/mach/periph.h
@@ -1109,6 +1111,70 @@ index 0000000..567d6a9
 +#endif
 +
 +#endif	/* _S5PV210_CPU_H */
+diff --git a/u-boot/arch/arm/mach-s5pv210/include/mach/dmc.h b/u-boot/arch/arm/mach-s5pv210/include/mach/dmc.h
+new file mode 100644
+index 0000000..ac99473
+--- /dev/null
++++ b/u-boot/arch/arm/mach-s5pv210/include/mach/dmc.h
+@@ -0,0 +1,58 @@
++#ifndef __ASM_ARM_ARCH_DRAM_H_
++#define __ASM_ARM_ARCH_DRAM_H_
++
++#ifndef __ASSEMBLY__
++
++struct s5pv210_dmc0 {
++	unsigned int	concontrol;
++	unsigned int	memcontrol;
++	unsigned int	memconfig0;
++	unsigned int	memconfig1;
++	unsigned int	directcmd;
++	unsigned int	prechconfig;
++	unsigned int	phycontrol0;
++	unsigned int	phycontrol1;
++	unsigned char	res1[0x08];
++	unsigned int	pwrdnconfig;
++	unsigned char	res2[0x04];
++	unsigned int	timingaref;
++	unsigned int	timingrow;
++	unsigned int	timingdata;
++	unsigned int	timingpower;
++	unsigned int	phystatus;
++	unsigned int	chip0status;
++	unsigned int	chip1status;
++	unsigned int	arefstatus;
++	unsigned int	mrstatus;
++	unsigned int	phytest0;
++	unsigned int	phytest1;
++};
++
++struct s5pv210_dmc1 {
++	unsigned int	concontrol;
++	unsigned int	memcontrol;
++	unsigned int	memconfig0;
++	unsigned int	memconfig1;
++	unsigned int	directcmd;
++	unsigned int	prechconfig;
++	unsigned int	phycontrol0;
++	unsigned int	phycontrol1;
++	unsigned char	res1[0x08];
++	unsigned int	pwrdnconfig;
++	unsigned char	res2[0x04];
++	unsigned int	timingaref;
++	unsigned int	timingrow;
++	unsigned int	timingdata;
++	unsigned int	timingpower;
++	unsigned int	phystatus;
++	unsigned int	chip0status;
++	unsigned int	chip1status;
++	unsigned int	arefstatus;
++	unsigned int	mrstatus;
++	unsigned int	phytest0;
++	unsigned int	phytest1;
++};
++
++#endif
++
++#endif
 diff --git a/u-boot/arch/arm/mach-s5pv210/include/mach/gpio.h b/u-boot/arch/arm/mach-s5pv210/include/mach/gpio.h
 new file mode 100644
 index 0000000..c8dfbdd
-- 
2.30.0

