From ec2dacbc1b552a98b8d3a1d9019c698b6193d54e Mon Sep 17 00:00:00 2001
From: dzhang <daniel.zhang@aviatnet.com>
Date: Tue, 12 Jan 2021 18:16:23 +1300
Subject: [PATCH] Fix dts file and defconfig file

---
 arch/arm/dts/s5pc1xx-smdkc100.dts | 14 ++++----------
 configs/smdkc100_defconfig        |  2 +-
 2 files changed, 5 insertions(+), 11 deletions(-)

diff --git a/arch/arm/dts/s5pc1xx-smdkc100.dts b/arch/arm/dts/s5pc1xx-smdkc100.dts
index d36d662..933948a 100644
--- a/arch/arm/dts/s5pc1xx-smdkc100.dts
+++ b/arch/arm/dts/s5pc1xx-smdkc100.dts
@@ -8,26 +8,20 @@
 /dts-v1/;
 
 #include "skeleton.dtsi"
-#include "s5pc100-pinctrl.dtsi"
 
 / {
 	model = "Samsung SMDKC100 based on S5PC100";
 	compatible = "samsung,smdkc100", "samsung,s5pc100";
 
 	aliases {
-		serial0 = "/serial@ec000000";
-		console = "/serial@ec000000";
+		serial0 = "/serial@e2900000";
+		console = "/serial@e2900000";
 		pinctrl0 = &pinctrl0;
 	};
 
-	pinctrl0: pinctrl@e0300000 {
-		compatible = "samsung,s5pc100-pinctrl";
-		reg = <0xe0200000 0x1000>;
-	};
-
-	serial@ec000000 {
+	serial@e2900000 {
 		compatible = "samsung,exynos4210-uart";
-		reg = <0xec000000 0x100>;
+		reg = <0xe2900000 0x100>;
 		interrupts = <0 51 0>;
 		id = <0>;
 	};
diff --git a/configs/smdkc100_defconfig b/configs/smdkc100_defconfig
index 093a4ba..8bc6758 100644
--- a/configs/smdkc100_defconfig
+++ b/configs/smdkc100_defconfig
@@ -1,7 +1,7 @@
 CONFIG_ARM=y
 CONFIG_ARCH_CPU_INIT=y
 CONFIG_ARCH_S5PC1XX=y
-CONFIG_SYS_TEXT_BASE=0x34800000
+CONFIG_SYS_TEXT_BASE=0x20000000
 CONFIG_NR_DRAM_BANKS=1
 CONFIG_ENV_SIZE=0x20000
 CONFIG_TARGET_SMDKC100=y
-- 
2.7.4

